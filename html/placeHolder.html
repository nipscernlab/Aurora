
<!-- Modal principal -->
<div id="verilog-modal" class="modal-wrapper hidden">
  <div class="modal-container">
    <div class="modal-header">
      <h2>Módulos Verilog</h2>
      <div class="search-container">
        <input type="text" id="module-search" placeholder="Pesquisar módulos..." class="search-input">
        <i class="fa-solid fa-search search-icon"></i>
      </div>
      <button id="close-modal" class="modal-close-btn">
        <i class="fa-solid fa-times"></i>
      </button>
    </div>
    
    <div class="modal-body">
      <!-- Categorias de módulos -->
      <div class="categories-container">
        <h3>Categorias</h3>
        <ul class="categories-list">
          <li class="category-item active" data-category="all">Todos</li>
          <li class="category-item" data-category="timing">Timing & Sincronização</li>
          <li class="category-item" data-category="memory">Memória & Registros</li>
          <li class="category-item" data-category="math">Matemática & Cálculo</li>
          <li class="category-item" data-category="communication">Comunicação</li>
          <li class="category-item" data-category="utility">Utilitários</li>
        </ul>
      </div>
      
      <!-- Lista de módulos -->
      <div class="modules-container">
        <div class="modules-list">
          <!-- Timing & Sincronização -->
          <div class="module-card" data-category="timing">
            <div class="module-header">
              <h4>button_debounce.v</h4>
              <span class="module-tag">Timing</span>
            </div>
            <p class="module-description">Timing-based button debouncing circuit.</p>
            <div class="module-actions">
              <button class="module-select-btn">
                <i class="fa-solid fa-plus"></i> Selecionar
              </button>
              <button class="module-info-btn" data-module="button_debounce">
                <i class="fa-solid fa-info-circle"></i>
              </button>
            </div>
          </div>
          
          <div class="module-card" data-category="timing">
            <div class="module-header">
              <h4>reset.v</h4>
              <span class="module-tag">Timing</span>
            </div>
            <p class="module-description">Implements a "good" reset with asynchronous assertion and synchronous de-assertion.</p>
            <div class="module-actions">
              <button class="module-select-btn">
                <i class="fa-solid fa-plus"></i> Selecionar
              </button>
              <button class="module-info-btn" data-module="reset">
                <i class="fa-solid fa-info-circle"></i>
              </button>
            </div>
          </div>
          
          <!-- Memória & Registros -->
          <div class="module-card" data-category="memory">
            <div class="module-header">
              <h4>pipeline_registers.v</h4>
              <span class="module-tag">Registros</span>
            </div>
            <p class="module-description">A parameterized number of pipeline registers of some depth and width. Útil como bloco para outros módulos.</p>
            <div class="module-actions">
              <button class="module-select-btn">
                <i class="fa-solid fa-plus"></i> Selecionar
              </button>
              <button class="module-info-btn" data-module="pipeline_registers">
                <i class="fa-solid fa-info-circle"></i>
              </button>
            </div>
          </div>
          
          <div class="module-card" data-category="memory">
            <div class="module-header">
              <h4>pipeline_registers_set.v</h4>
              <span class="module-tag">Registros</span>
            </div>
            <p class="module-description">Pipeline registers with the ability to set the value of the registers.</p>
            <div class="module-actions">
              <button class="module-select-btn">
                <i class="fa-solid fa-plus"></i> Selecionar
              </button>
              <button class="module-info-btn" data-module="pipeline_registers_set">
                <i class="fa-solid fa-info-circle"></i>
              </button>
            </div>
          </div>
          
          <div class="module-card" data-category="memory">
            <div class="module-header">
              <h4>ram_infer.v</h4>
              <span class="module-tag">Memória</span>
            </div>
            <p class="module-description">Xilinx standard module that will infer RAM during FPGA synthesis.</p>
            <div class="module-actions">
              <button class="module-select-btn">
                <i class="fa-solid fa-plus"></i> Selecionar
              </button>
              <button class="module-info-btn" data-module="ram_infer">
                <i class="fa-solid fa-info-circle"></i>
              </button>
            </div>
          </div>
          
          <!-- Matemática & Cálculo -->
          <div class="module-card" data-category="math">
            <div class="module-header">
              <h4>sign_extender.v</h4>
              <span class="module-tag">Matemática</span>
            </div>
            <p class="module-description">Explicit sign extender (necessário em Verilog)</p>
            <div class="module-actions">
              <button class="module-select-btn">
                <i class="fa-solid fa-plus"></i> Selecionar
              </button>
              <button class="module-info-btn" data-module="sign_extender">
                <i class="fa-solid fa-info-circle"></i>
              </button>
            </div>
          </div>
          
          <div class="module-card" data-category="math">
            <div class="module-header">
              <h4>sqrt_pipelined.v</h4>
              <span class="module-tag">Matemática</span>
              <span class="module-deprecated">Deprecated</span>
            </div>
            <p class="module-description">A pipelined implementation of a fixed point square root. Deprecated devido à complexidade e arredondamento incorreto.</p>
            <div class="module-actions">
              <button class="module-select-btn">
                <i class="fa-solid fa-plus"></i> Selecionar
              </button>
              <button class="module-info-btn" data-module="sqrt_pipelined">
                <i class="fa-solid fa-info-circle"></i>
              </button>
            </div>
          </div>
          
          <div class="module-card" data-category="math">
            <div class="module-header">
              <h4>sqrt_generic.v</h4>
              <span class="module-tag">Matemática</span>
            </div>
            <p class="module-description">A refactor of sqrt_pipelined.v com sintaxe mais limpa. Usa truncamento implícito e tende para infinito negativo.</p>
            <div class="module-actions">
              <button class="module-select-btn">
                <i class="fa-solid fa-plus"></i> Selecionar
              </button>
              <button class="module-info-btn" data-module="sqrt_generic">
                <i class="fa-solid fa-info-circle"></i>
              </button>
            </div>
          </div>
          
          <div class="module-card" data-category="math">
            <div class="module-header">
              <h4>div_pipelined.v</h4>
              <span class="module-tag">Matemática</span>
              <span class="module-warning">Em teste</span>
            </div>
            <p class="module-description">Pipelined division module (largely untested)</p>
            <div class="module-actions">
              <button class="module-select-btn">
                <i class="fa-solid fa-plus"></i> Selecionar
              </button>
              <button class="module-info-btn" data-module="div_pipelined">
                <i class="fa-solid fa-info-circle"></i>
              </button>
            </div>
          </div>
          
          <!-- Comunicação -->
          <div class="module-card" data-category="communication">
            <div class="module-header">
              <h4>uart_rx.v</h4>
              <span class="module-tag">UART</span>
            </div>
            <p class="module-description">UART receiver.</p>
            <div class="module-actions">
              <button class="module-select-btn">
                <i class="fa-solid fa-plus"></i> Selecionar
              </button>
              <button class="module-info-btn" data-module="uart_rx">
                <i class="fa-solid fa-info-circle"></i>
              </button>
            </div>
          </div>
          
          <div class="module-card" data-category="communication">
            <div class="module-header">
              <h4>uart_tx.v</h4>
              <span class="module-tag">UART</span>
            </div>
            <p class="module-description">UART transmitter.</p>
            <div class="module-actions">
              <button class="module-select-btn">
                <i class="fa-solid fa-plus"></i> Selecionar
              </button>
              <button class="module-info-btn" data-module="uart_tx">
                <i class="fa-solid fa-info-circle"></i>
              </button>
            </div>
          </div>
        </div>
        
        <!-- Mensagem quando nenhum módulo é encontrado -->
        <div id="no-modules-message" class="hidden">
          <div class="no-results">
            <i class="fa-solid fa-search"></i>
            <p>Nenhum módulo encontrado.</p>
          </div>
        </div>
      </div>
    </div>
    
    <div class="modal-footer">
      <div class="modal-stats">
        <span id="modules-count">10 módulos encontrados</span>
      </div>
      <button id="modal-cancel" class="modal-btn modal-btn-secondary">Cancelar</button>
    </div>
  </div>
</div>

<!-- Modal para visualização de código Verilog -->
<div id="verilog-code-modal" class="code-modal-wrapper hidden">
  <div class="code-modal-container">
    <div class="code-modal-header">
      <h2 id="code-modal-title">Verilog Module</h2>
      <div class="modal-actions">
        <button id="copy-code-btn" class="icon-btn" title="Copiar código">
          <i class="fa-solid fa-copy"></i>
        </button>
        <button id="close-code-modal" class="modal-close-btn">
          <i class="fa-solid fa-times"></i>
        </button>
      </div>
    </div>
    
    <div class="code-modal-body">
      <div class="code-container">
        <pre><code id="verilog-code-content" class="verilog-code"></code></pre>
      </div>
    </div>
    
    <div class="code-modal-footer">
      <button id="code-modal-close" class="modal-btn modal-btn-secondary">Fechar</button>
    </div>
  </div>
</div>
    <!-- Toolbar -->
    <div class="toolbar">
      <div class="toolbar-group">
        <button id="save-btn" class="toolbar-button" title="Save (Ctrl+S)">
          <i class="fa-solid fa-floppy-disk"></i>
        </button>
        <div class="toolbar-separator"></div>
        <button id="undo-btn" class="toolbar-button" title="Undo (Ctrl+Z)">
          <i class="fa-solid fa-rotate-left"></i>
        </button>
        <button id="redo-btn" class="toolbar-button" title="Redo (Ctrl+Shift+Z or Ctrl+Y)">
          <i class="fa-solid fa-rotate-right"></i>
        </button>
      </div>

      <div class="toolbar-search">
        <i class="fa-solid fa-search"></i>
        <input type="text" id="search-input" placeholder="Search...">
        <span id="search-count" style="display: none;"></span>
      </div>
      <div class="search-buttons">
        <button id="search-prev" class="toolbar-button" title="Previous">
          <i class="fa-solid fa-chevron-up"></i>
        </button>
        <button id="search-next" class="toolbar-button" title="Next">
          <i class="fa-solid fa-chevron-down"></i>
        </button>
      </div>

      <div class="font-size-control">
        <button id="font-decrease" class="toolbar-button" title="Decrease font size (Ctrl+Wheel down)">
          <i class="fa-solid fa-text-height fa-xs"></i>
        </button>
        <span class="font-size-value" id="font-size">14px</span>
        <button id="font-increase" class="toolbar-button" title="Increase font size (Ctrl+Wheel up)">
          <i class="fa-solid fa-text-height"></i>
        </button>
      </div>
    </div>
    
    <!-- Editor -->
    <div class="editor-container">
      <!-- Editor
      <div id="line-numbers" class="line-numbers"></div> -->
      <textarea id="editor" spellcheck="false"></textarea>
    </div>
    
    <!-- Status Bar -->
    <div class="status-bar">
      <div id="stats">Line: 1, Column: 1</div>
      <div id="word-count">0 words</div>
      <div id="last-saved">Not saved yet</div>
    </div>
    
    <!-- Toast Notification -->
    <div id="toast" class="toast">
      <div id="toast-message"></div>
    </div>
    
    <!-- Save Confirmation Modal -->
    <div id="save-modal" class="save-modal">
      <div class="save-modal-content">
        <div class="save-modal-header">
          <span class="save-modal-title">Save Changes?</span>
          <button id="save-modal-close" class="save-modal-close">&times;</button>
        </div>
        <div class="save-modal-body">
          <p>You have unsaved changes. Would you like to save them before closing?</p>
        </div>
        <div class="save-modal-footer">
          <button id="discard-btn" class="modal-btn discard">Discard</button>
          <button id="save-confirm-btn" class="modal-btn save">Save</button>
        </div>
      </div>
    </div>
  </div>
</div>